# -*- coding: utf-8 -*-
#
# bahai_calendar/gregorian_calendar.py
#
__docformat__ = "restructuredtext en"


class GregorianCalendar:
    """
    Implementation of the Gregorian Calendar.
    """

    def __init__(self):
        pass

    def gregorian_year_from_fixed(self, date):
        """
        (defun gregorian-year-from-fixed (date)
          ;; TYPE fixed-date -> gregorian-year
          ;; Gregorian year corresponding to the fixed date.
          (let* ((d0
          ; Prior days.
          (- date gregorian-epoch))
          (n400
          ; Completed 400-year cycles.
          (quotient d0 146097))
          (d1
          ; Prior days not in n400.
          (mod d0 146097))
          (n100
          ; 100-year cycles not in n400.
          (quotient d1 36524))
          (d2
          ; Prior days not in n400 or n100.
          (mod d1 36524))
          (n4
          ; 4-year cycles not in n400 or n100.
          (quotient d2 1461))
          (d3
          ; Prior days not in n400, n100, or n4.
          (mod d2 1461))
          (n1
          ; Years not in n400, n100, or n4.
          (quotient d3 365))
          (year (+ (* 400 n400)
          (* 100 n100)
          (* 4 n4)
          n1)))
          (if (or (= n100 4) (= n1 4))
          year
          ; Date is day 366 in a leap year.
          (1+ year)))); Date is ordinal day (1+ (mod d3 365))
          ; in (1+ year).
        """
        return

    def fixed_from_gregorian(self, ):
        """
        (defun fixed-from-gregorian (g-date)
          ;; TYPE gregorian-date -> fixed-date
          ;; Fixed date equivalent to the Gregorian date g-date.
          (let* ((month (standard-month g-date))
          (day (standard-day g-date))
          (year (standard-year g-date)))
          (+ (1- gregorian-epoch); Days before start of calendar
          (* 365 (1- year)); Ordinary days since epoch
          (quotient (1- year)
          4); Julian leap days since epoch...
          (-
          ; ...minus century years since epoch...
          (quotient (1- year) 100))
          (quotient
          ; ...plus years since epoch divisible...
          (1- year) 400) ; ...by 400.
          (quotient
          ; Days in prior months this year...
          (- (* 367 month) 362); ...assuming 30-day Feb
          12)
          (if (<= month 2) ; Correct for 28- or 29-day Feb
          0
          (if (gregorian-leap-year? year)
          -1
          -2))
            day)))
            ; Days so far this month.
        """
        return




